<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGINCHECK</title>
</head>
<body>
    <script>
        const infos = {};
        location.hash.substring(1).split('&').forEach(h => {
            const hh = h.split('=');
            infos[hh[0]] = hh[1];
        });
        console.log(infos);
        fetch(`https://www.googleapis.com/oauth2/v1/userinfo?access_token=${infos.access_token}`).then(res => {
            console.log(res);
            res.json().then(d => {
                console.log(d);
                for (const k in d) {
                    if (Object.hasOwnProperty.call(d, k)) {
                        sessionStorage.setItem(k, d[k]);
                    }
                }
                location.href = '/';
            });
        });
        // https://www.googleapis.com/oauth2/v1/userinfo?access_token=ya29.a0AfB_byC6i8DEybS8aUWxFw_eUhai69BGtNbEJ6nevIU784TNIPgkpA4o1JZxlpAG8FqHKcJEe-LkFlLiBBLRQ4XQSck4ds_QnxbpxVFeEmenoi_LmNhF6VnSvqgrNla0LlnijBuGg_Wt61cWjgTRGgn7q7kxPLoO_AaCgYKAWASARISFQHGX2MiL55A88NjTg8ScmdIuhK0Tg0169
    </script>
</body>
</html>